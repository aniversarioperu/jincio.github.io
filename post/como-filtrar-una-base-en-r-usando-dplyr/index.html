<!DOCTYPE html>
<html lang="en-us">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.3.1">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="José Incio">

  
  
  
    
  
  <meta name="description" content="Mostramos como filtrar datos con Dplyr">

  
  <link rel="alternate" hreflang="en-us" href="/post/como-filtrar-una-base-en-r-usando-dplyr/">

  


  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono&display=swap">
  

  
  
  
  <link rel="stylesheet" href="/css/academic.min.8808bd094148b3cb4ce919b2904a89ed.css">

  

  
  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-39301144-1', 'auto');
      
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  
  

  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/como-filtrar-una-base-en-r-usando-dplyr/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@Jlincio">
  <meta property="twitter:creator" content="@Jlincio">
  
  <meta property="og:site_name" content="JI">
  <meta property="og:url" content="/post/como-filtrar-una-base-en-r-usando-dplyr/">
  <meta property="og:title" content="¿Cómo Filtrar una base en R usando dplyr? | JI">
  <meta property="og:description" content="Mostramos como filtrar datos con Dplyr"><meta property="og:image" content="/img/icon-192.png">
  <meta property="twitter:image" content="/img/icon-192.png"><meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2019-11-14T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2019-11-14T11:14:13-05:00">
  

  


  





  <title>¿Cómo Filtrar una base en R usando dplyr? | JI</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  
<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/">JI</a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav mr-auto">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#publications"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/tutorials/"><span>Resources</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/working_papers"><span>Working Papers</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/projects"><span>Projects</span></a>
        </li>

        
        

        

        
        
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/post"><span>Posts</span></a>
        </li>

        
        

      
      </ul>
      <ul class="navbar-nav ml-auto">
      

        

        
        <li class="nav-item">
          <a class="nav-link js-search" href="#"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        

        

      </ul>

    </div>
  </div>
</nav>


  <article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">¿Cómo Filtrar una base en R usando dplyr?</h1>

  
  <p class="page-subtitle">Formas sencillas de filtrar una base o tabla en R</p>
  

  
    



<meta content="2019-11-14 00:00:00 &#43;0000 UTC" itemprop="datePublished">
<meta content="2019-11-14 11:14:13 -0500 EST" itemprop="dateModified">

<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    <time>Nov 14, 2019</time>
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    3 min read
  </span>
  

  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    <a href="/categories/r/">R</a>, <a href="/categories/methods/">methods</a></span>
  

  
    
<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/post/como-filtrar-una-base-en-r-usando-dplyr/&amp;text=%c2%bfC%c3%b3mo%20Filtrar%20una%20base%20en%20R%20usando%20dplyr?" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/post/como-filtrar-una-base-en-r-usando-dplyr/&amp;t=%c2%bfC%c3%b3mo%20Filtrar%20una%20base%20en%20R%20usando%20dplyr?" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook-f"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=%c2%bfC%c3%b3mo%20Filtrar%20una%20base%20en%20R%20usando%20dplyr?&amp;body=/post/como-filtrar-una-base-en-r-usando-dplyr/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/post/como-filtrar-una-base-en-r-usando-dplyr/&amp;title=%c2%bfC%c3%b3mo%20Filtrar%20una%20base%20en%20R%20usando%20dplyr?" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=%c2%bfC%c3%b3mo%20Filtrar%20una%20base%20en%20R%20usando%20dplyr?%20/post/como-filtrar-una-base-en-r-usando-dplyr/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/post/como-filtrar-una-base-en-r-usando-dplyr/&amp;title=%c2%bfC%c3%b3mo%20Filtrar%20una%20base%20en%20R%20usando%20dplyr?" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>


  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      

<p>Juguemos con la data de Gapminder
  - Usamos la función import del paquete <code>rio</code> llamamos a la data.</p>

<pre><code class="language-r">library(rio)
data&lt;-import(&quot;https://raw.githubusercontent.com/resbaz/r-novice-gapminder-files/master/data/gapminder-FiveYearData.csv&quot;)
</code></pre>

<p>Demos un vistazo a la data usando head()</p>

<pre><code class="language-r">head(data, 10)
</code></pre>

<pre><code>##        country year      pop continent lifeExp gdpPercap
## 1  Afghanistan 1952  8425333      Asia  28.801  779.4453
## 2  Afghanistan 1957  9240934      Asia  30.332  820.8530
## 3  Afghanistan 1962 10267083      Asia  31.997  853.1007
## 4  Afghanistan 1967 11537966      Asia  34.020  836.1971
## 5  Afghanistan 1972 13079460      Asia  36.088  739.9811
## 6  Afghanistan 1977 14880372      Asia  38.438  786.1134
## 7  Afghanistan 1982 12881816      Asia  39.854  978.0114
## 8  Afghanistan 1987 13867957      Asia  40.822  852.3959
## 9  Afghanistan 1992 16317921      Asia  41.674  649.3414
## 10 Afghanistan 1997 22227415      Asia  41.763  635.3414
</code></pre>

<p>Empecemos a filtrar.</p>

<ul>
<li><p>Queremos tener la información solo sobre el continente Americano</p>

<ul>
<li>Primero veamos que continentes están incluidos en la data
<br /></li>
</ul></li>
</ul>

<pre><code class="language-r">table(data$continent)
</code></pre>

<pre><code>## 
##   Africa Americas     Asia   Europe  Oceania 
##      624      300      396      360       24
</code></pre>

<p>Nos quedaremo con &ldquo;Americas&rdquo;</p>

<ul>
<li>1) Método tradicional. Usando las dimensiones de la data. La data tiene dos dimensiones filas y columnas. Podemos filtrar las &ldquo;filas&rdquo;</li>
</ul>

<pre><code class="language-r">data1= data[data$continent==&quot;Americas&quot;,]
</code></pre>

<ul>
<li>Es clave entender que los corchetes y las comas me permiten identificar las dimensiones. <code>[ filas, columnas ]</code></li>
<li>En este caso he creado un nuevo objeto filtrando las filas que coinciden con mi criterio.</li>
</ul>

<pre><code class="language-r">table(data1$continent)
</code></pre>

<pre><code>## 
## Americas 
##      300
</code></pre>

<ul>
<li>Ahora usando la función filter de Dplyr.</li>
</ul>

<pre><code class="language-r">library(dplyr)
</code></pre>

<pre><code>## 
## Attaching package: 'dplyr'
</code></pre>

<pre><code>## The following objects are masked from 'package:stats':
## 
##     filter, lag
</code></pre>

<pre><code>## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union
</code></pre>

<pre><code class="language-r">data1&lt;-data%&gt;%filter(continent==&quot;Americas&quot;)
table(data1$continent)
</code></pre>

<pre><code>## 
## Americas 
##      300
</code></pre>

<ul>
<li><p>Tener en cuenta: dplyr usa el %&gt;% que es como decir &ldquo;lo de la izquierda tiralo hacia la derecha&rdquo;.</p></li>

<li><p>Mira este gif que lo explica con Mario Bros</p></li>
</ul>

<p><a href="https://twitter.com/daniellequinn88/status/1193777505746014209" target="_blank">Aquí</a></p>

<h2 id="cuál-es-la-ventaja-de-dplyr">¿Cuál es la ventaja de Dplyr?</h2>

<p>Que con dplyr puedes armar filtros más complejos en una misma línea sin que el código se complique mucho.</p>

<p>Por ejemplo, si queremos filtrar los países de America, pero que tengan una pbi per capita mayor a 700, y solo necesitamos datos del 2000 hacia adelante el código usando las dimensiones de la data sería muy emarañado/confuso.</p>

<pre><code class="language-r">data1= data[data$continent==&quot;Americas&quot;&amp;data$gdpPercap&gt;700&amp;data$year&gt;2000,]
head(data1)
</code></pre>

<pre><code>##       country year       pop continent lifeExp gdpPercap
## 59  Argentina 2002  38331121  Americas  74.340  8797.641
## 60  Argentina 2007  40301927  Americas  75.320 12779.380
## 143   Bolivia 2002   8445134  Americas  63.883  3413.263
## 144   Bolivia 2007   9119152  Americas  65.554  3822.137
## 179    Brazil 2002 179914212  Americas  71.006  8131.213
## 180    Brazil 2007 190010647  Americas  72.390  9065.801
</code></pre>

<p>Con Dplyr</p>

<pre><code class="language-r">data1=data%&gt;%filter(continent==&quot;Americas&quot;,gdpPercap&gt;700,year&gt;2000)
head(data1)
</code></pre>

<pre><code>##     country year       pop continent lifeExp gdpPercap
## 1 Argentina 2002  38331121  Americas  74.340  8797.641
## 2 Argentina 2007  40301927  Americas  75.320 12779.380
## 3   Bolivia 2002   8445134  Americas  63.883  3413.263
## 4   Bolivia 2007   9119152  Americas  65.554  3822.137
## 5    Brazil 2002 179914212  Americas  71.006  8131.213
## 6    Brazil 2007 190010647  Americas  72.390  9065.801
</code></pre>

<p>Además lo interesante de Dplyr es que te permite conectar funciones. Lo que hace el código más eficiente. Por ejemplo, quiero hacer una regresión pero usando los casos filtrados en el paso anterior, con dplyr no necesito crear ningún objeto nuevo.</p>

<pre><code class="language-r">data%&gt;%filter(continent==&quot;Americas&quot;,gdpPercap&gt;700,year&gt;2000)%&gt;%
  lm(lifeExp~gdpPercap, data=.)%&gt;%summary()
</code></pre>

<pre><code>## 
## Call:
## lm(formula = lifeExp ~ gdpPercap, data = .)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -12.2846  -1.2025   0.1773   2.4929   5.9131 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 7.005e+01  7.970e-01  87.891  &lt; 2e-16 ***
## gdpPercap   2.922e-04  5.829e-05   5.013 7.71e-06 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 3.778 on 48 degrees of freedom
## Multiple R-squared:  0.3436,	Adjusted R-squared:   0.33 
## F-statistic: 25.13 on 1 and 48 DF,  p-value: 7.714e-06
</code></pre>

    </div>

    



    
      








  





  
  
  
    
  
  
  <div class="media author-card" itemscope itemtype="http://schema.org/Person">
    
      
      <img class="portrait mr-3" src="/authors/admin/avatar1_hu2a7fdbfacef80be922176e8dd4ff69a0_1044511_250x250_fill_q90_lanczos_center.jpg" itemprop="image" alt="Avatar">
    

    <div class="media-body">
      <h5 class="card-title" itemprop="name"><a href="/">José Incio</a></h5>
      <h6 class="card-subtitle">Ph.D. Candidate Political Science</h6>
      <p class="card-text" itemprop="description">My research interests include subnational politics, democracy, representation and political methodology.</p>
      <ul class="network-icon" aria-hidden="true">
        
          
          
          
            
          
          
          
          
          
          <li>
            <a itemprop="sameAs" href="mailto:j.incio@pitt.edu" >
              <i class="fas fa-envelope"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://twitter.com/Jlincio" target="_blank" rel="noopener">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
        
          
          
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://scholar.google.com/citations?user=XaJuxzwAAAAJ&amp;hl=es" target="_blank" rel="noopener">
              <i class="ai ai-google-scholar"></i>
            </a>
          </li>
        
          
          
          
            
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="https://github.com/Jlincio" target="_blank" rel="noopener">
              <i class="fab fa-github"></i>
            </a>
          </li>
        
          
          
          
          
          
          
          
            
          
          <li>
            <a itemprop="sameAs" href="/files/CV.pdf" >
              <i class="ai ai-cv"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>



      
      
    

    

    


  </div>
</article>

      

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js" integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin="anonymous"></script>
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script>
      const search_index_filename = "/index.json";
      const i18n = {
        'placeholder': "Search...",
        'results': "results found",
        'no_results': "No results found"
      };
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.9881d84a7dbd704179a08d7d1d079225.js"></script>

    






  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    &copy;2019 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
